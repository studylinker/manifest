apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: common-infra
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/studylinker/manifest.git  # ë³¸ì¸ ë ˆí¬ ì£¼ì†Œ
    targetRevision: HEAD
    path: common  # ğŸ‘ˆ common í´ë”ë¥¼ ë°”ë¼ë³´ê²Œ í•¨
  destination:
    server: https://kubernetes.default.svc
    namespace: msa-project # common/namespace.yamlì— ì •ì˜ëœ ë„¤ì„ìŠ¤í˜ì´ìŠ¤
  syncPolicy:
    automated:
      prune: true
      selfHeal: true

---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: auth-service
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/studylinker/manifest.git
    targetRevision: HEAD
    path: apps/auth-service  # ğŸ‘ˆ auth-service í´ë”ë¥¼ ë°”ë¼ë³´ê²Œ í•¨
  destination:
    server: https://kubernetes.default.svc
    namespace: webservice
  syncPolicy:
    automated:
      prune: true
      selfHeal: true

---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: user-service
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/studylinker/manifest.git
    targetRevision: HEAD
    path: apps/user-service  # ğŸ‘ˆ user-service í´ë”ë¥¼ ë°”ë¼ë³´ê²Œ í•¨
  destination:
    server: https://kubernetes.default.svc
    namespace: webservice
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
```

---

### 3. ArgoCDì— ì ìš©í•˜ëŠ” ë°©ë²• (ë”± í•œ ë²ˆë§Œ ì‹¤í–‰)

ì´ì œ ArgoCD ì›¹ UIì—ì„œ ì•±ì„ í•˜ë‚˜í•˜ë‚˜ ë§Œë“¤ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì•„ë˜ ëª…ë ¹ì–´ë¡œ ìœ„ íŒŒì¼ì„ í´ëŸ¬ìŠ¤í„°ì— ë˜ì ¸ì£¼ë©´ ëì…ë‹ˆë‹¤.

```bash
# ArgoCDê°€ ì„¤ì¹˜ëœ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‹¤í–‰
kubectl apply -f manifest-repo/argocd/projects.yaml -n argocd
